"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1254],{1254:(T,m,a)=>{a.r(m),a.d(m,{HomePageModule:()=>O});var d=a(177),r=a(4488),p=a(9417),l=a(294),n=a(4438),u=a(8010),g=a(7964),f=a(3955),h=a(3489);const C=(e,o)=>({card:!0,checked:e,noCheck:o});function v(e,o){1&e&&(n.j41(0,"div",8)(1,"span"),n.EFF(2),n.nI1(3,"translate"),n.k0s()()),2&e&&(n.R7$(2),n.JRh(n.bMT(3,1,"incidents.unresolved")))}let I=(()=>{var e;class o{constructor(){this.onIncidentClicked=new n.bkB}ngOnInit(){if(this.incident)if("string"==typeof this.incident.date){const t=new Date(this.incident.date);this.formattedDay=t.toLocaleDateString(),this.formattedTime=t.toLocaleTimeString()}else{const i=this.incident.date.toDate();this.formattedDay=i.toLocaleDateString(),this.formattedTime=i.toLocaleTimeString()}}onIncidentClick(t){var i;this.onIncidentClicked.emit(null===(i=this.incident)||void 0===i?void 0:i.uuid),t.stopPropagation()}}return(e=o).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-incidents-info"]],inputs:{incident:"incident"},outputs:{onIncidentClicked:"onIncidentClicked"},decls:22,vars:20,consts:[[3,"click","ngClass"],[1,"card--header"],[1,"card--header__title"],["class","card--header__status",4,"ngIf"],[1,"card--info"],["name","calendar-clear-outline"],["name","time-outline"],["name","person-outline"],[1,"card--header__status"]],template:function(t,i){1&t&&(n.j41(0,"div",0),n.bIt("click",function(y){return i.onIncidentClick(y)}),n.j41(1,"div",1)(2,"h3",2),n.EFF(3),n.nI1(4,"shortenText"),n.k0s(),n.DNE(5,v,4,3,"div",3),n.k0s(),n.j41(6,"div",4)(7,"div"),n.nrm(8,"ion-icon",5),n.j41(9,"span"),n.EFF(10),n.nI1(11,"translate"),n.k0s()(),n.j41(12,"div"),n.nrm(13,"ion-icon",6),n.j41(14,"span"),n.EFF(15),n.nI1(16,"translate"),n.k0s()(),n.j41(17,"div"),n.nrm(18,"ion-icon",7),n.j41(19,"span"),n.EFF(20),n.nI1(21,"translate"),n.k0s()()()()),2&t&&(n.Y8G("ngClass",n.l_i(17,C,null==i.incident?null:i.incident.checked,!(null!=i.incident&&i.incident.checked))),n.R7$(3),n.JRh(n.bMT(4,9,null==i.incident?null:i.incident.title)),n.R7$(2),n.Y8G("ngIf",!(null!=i.incident&&i.incident.resolved)),n.R7$(5),n.Lme(" ",n.bMT(11,11,"incidents.day"),": ",i.formattedDay," "),n.R7$(5),n.Lme(" ",n.bMT(16,13,"incidents.hour"),": ",i.formattedTime," "),n.R7$(5),n.Lme(" ",n.bMT(21,15,"incidents.user"),": ",null==i.incident?null:i.incident.userName," "))},dependencies:[d.YU,d.bT,r.iq,f.D9,h.p],styles:['@charset "UTF-8";.card[_ngcontent-%COMP%]{padding:15px;border-radius:.5rem;box-shadow:0 2px 15px -2px #4747473d;width:calc(33.3333333333vw - 60px + 10px);height:190px}.card--header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.card--header__title[_ngcontent-%COMP%]{font-weight:700}.card--header__status[_ngcontent-%COMP%]{background-color:#bd1e1e;padding:2% 5%;border-radius:2em}.card--header__status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:700}.card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#bd1e1e}.card--info[_ngcontent-%COMP%]{margin-top:5%;display:flex;flex-direction:column;gap:15px}.card--info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:3%;font-weight:700}.card[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width: 850px){.card[_ngcontent-%COMP%]{width:100%!important}.card--header__status[_ngcontent-%COMP%]{margin-left:1rem}.card--info[_ngcontent-%COMP%]{margin-top:0}}.checked[_ngcontent-%COMP%]{background-color:green}.noCheck[_ngcontent-%COMP%]{background-color:red}']}),o})();function P(e,o){if(1&e){const c=n.RV6();n.j41(0,"app-incidents-info",2),n.bIt("onIncidentClicked",function(i){n.eBV(c);const s=n.XpG();return n.Njj(s.incidentInfo(i))}),n.k0s()}2&e&&n.Y8G("incident",o.$implicit)}const M=[{path:"",component:(()=>{var e;class o{constructor(t,i,s){this._auth=t,this.router=i,this.firebaseService=s}incidentInfo(t){t&&(console.log(t),this.router.navigate(["/home/incident-data",t]))}}return(e=o).\u0275fac=function(t){return new(t||e)(n.rXU(u.u),n.rXU(l.Ix),n.rXU(g.f))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"incidents"],[3,"incident","onIncidentClicked",4,"ngFor","ngForOf"],[3,"onIncidentClicked","incident"]],template:function(t,i){1&t&&(n.j41(0,"ion-content")(1,"div",0),n.DNE(2,P,1,1,"app-incidents-info",1),n.nI1(3,"async"),n.k0s()()),2&t&&(n.R7$(2),n.Y8G("ngForOf",n.bMT(3,1,i.firebaseService.incidents$)))},dependencies:[d.Sq,r.W9,I,d.Jj],styles:[".incidents[_ngcontent-%COMP%]{justify-content:flex-start;display:flex;flex-wrap:wrap;row-gap:20px;column-gap:30px;width:100%;margin:5% auto;padding:2%}@media (max-width: 850px){.incidents[_ngcontent-%COMP%]{flex-direction:column}}"]}),o})()}];let _=(()=>{var e;class o{}return(e=o).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[l.iI.forChild(M),l.iI]}),o})();var k=a(3887);let O=(()=>{var e;class o{}return(e=o).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[d.MD,p.YN,r.bv,_,k.G]}),o})()}}]);